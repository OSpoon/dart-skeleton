## dart-skeleton

### é¡¹ç›®ç»“æ„å›¾ï¼š
é¡¹ç›®ç”±å¦‚å›¾ä¸‰å—å†…å®¹ç»„æˆåˆ†åˆ«æ˜¯ï¼šè„šæœ¬ï¼Œé€»è¾‘ï¼ŒCLIã€‚
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc2364ab5efd45cebcc84dc92fd5bdb3~tplv-k3u1fbpfcp-zoom-1.image)
#### ğŸ¥è„šæœ¬ï¼š
ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯å¯¹ç›®æ ‡é¡µé¢è¿›è¡Œåˆ†æå¯¹æŒ‡å®šçš„å…ƒç´ è¿›è¡Œç»˜åˆ¶ä¸ºç°è‰²å—ï¼Œå¹¶æŒ‰æ¡ä»¶è·³è¿‡æŒ‡å®šçš„å¹²æ‰°å…ƒç´ ã€‚å› ä¸ºæˆ‘ä»¬çš„ä½¿ç”¨æ˜¯åœ¨æµè§ˆå™¨ä¸­æ‰€ä»¥åœ¨ç¼–è¯‘Tsçš„ä»£ç çš„æ—¶å€™æˆ‘ä»¬å°†`target`å’Œ`module`åˆ†åˆ«è®¾ç½®æˆäº†`es5`å’Œ`es2015`ï¼Œä¸ºäº†æ–¹ä¾¿é€»è¾‘å—çš„è°ƒç”¨æˆ‘ä»¬æ²¡æœ‰å¯¼å‡ºå‡½æ•°è€Œæ˜¯ç›´æ¥æŒ‚åœ¨åˆ°`window`å¯¹è±¡ä¸Šã€‚è°ƒè¯•æœ¬åœ°htmlæ–‡ä»¶çš„è¯å¯ä»¥ç›´æ¥å°†ç¼–è¯‘åçš„`Js`å¼•å…¥é¡µé¢ï¼Œå½“æˆ‘ä»¬éœ€è¦è°ƒè¯•åœ¨çº¿çš„ä¸€äº›é¡µé¢çš„è¯å¯ä»¥åœ¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·=>`Sources`=>`Snippets`ä¸­æ–°å»ºä¸€ä¸ªç‰‡æ®µå°†æˆ‘ä»¬ç¼–è¯‘åçš„`Js`æ”¾è¿›å»ï¼Œç›´æ¥Runæ¥æ‰§è¡Œã€‚


#### ğŸ¥¦é€»è¾‘ï¼š
ä¸»è¦çš„åŠŸèƒ½æ˜¯ä½¿ç”¨`**Puppeteer**`æ¥åŠ è½½ç›®æ ‡é¡µé¢ï¼Œå¹¶æ‰§è¡Œæˆ‘ä»¬ç¬¬ä¸€é˜¶æ®µè°ƒè¯•çš„è„šæœ¬ï¼Œæœ€ç»ˆå¯¼å‡ºéª¨æ¶ç‰‡æ®µå¹¶æ’å…¥ç›®æ ‡é¡µé¢ã€‚é€»è¾‘å—çš„ä»£ç ç”±äºæˆ‘ä»¬åç»­æƒ³é€šè¿‡CLIçš„æ–¹å¼åœ¨`Node`ç¯å¢ƒæ‰§è¡Œï¼Œæ‰€ä»¥ç¼–è¯‘æˆäº†`CommonJS`æ¨¡å—ã€‚éœ€è¦ç‰¹æ®Šè®°å½•ä¸€ä¸‹çš„æ˜¯è„šæœ¬æ³¨å…¥åçš„æ‰§è¡Œå‡½æ•°ï¼Œå¦‚ä¸‹ï¼š
```typescript
// æ‰§è¡Œè„šæœ¬è·å–ç”Ÿæˆçš„htmlç‰‡æ®µ
html = await page.evaluate((res) => {
	return window.evalDOMScripts.apply(window, res);
}, opts);
```
#### ğŸ¦CLIï¼š
è¿™å—çš„åŠŸèƒ½ç›¸å¯¹ç®€å•ï¼Œä¸»è¦æ˜¯é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼æ¥æ”¶é›†ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼Œæ„å»ºåˆå§‹åŒ–é…ç½®æ–‡ä»¶å’Œæ‰§è¡Œé€»è¾‘éƒ¨åˆ†å¯¼å‡ºçš„å¯åŠ¨å‡½æ•°ã€‚

### ä½¿ç”¨è¯´æ˜ï¼š
#### ğŸ•æ„å»ºè¯´æ˜ï¼š

1. å…¨å±€å®‰è£…Typescriptï¼Œè°ƒè¯•ä»£ç æ¨èä¸€èµ·å®‰è£…ts-nodeï¼š`yarn global add typescript ts-node`
2. å®‰è£…é¡¹ç›®é…ç½®çš„ä¾èµ–ï¼š`yarn`
#### ğŸ¿è„šæœ¬&æºç ç¼–è¯‘ï¼š

1. ç¼–è¯‘è„šæœ¬æ–‡ä»¶ï¼š`yarn build:script`
1. ç¼–è¯‘æºç æ–‡ä»¶ï¼š`yarn build:source`
#### ğŸ¥—é“¾æ¥æ¨¡å—åˆ°æœ¬åœ°NPMï¼š

1. å»ºç«‹è¿æ¥å‘½ä»¤ï¼š`npm link`
1. åå»ºç«‹è¿æ¥å‘½ä»¤ï¼š`npm unlink`

æ³¨ï¼šç›®å‰æ— æ³•å‘å¸ƒåˆ°NPMä»“åº“ï¼Œæç¤ºåŸå› æ˜¯ç”±äºæ¨¡å—çš„ç‰ˆæœ¬æˆ–ä¾èµ–çš„ç‰ˆæœ¬å­˜åœ¨ä½äº`1.2`çš„æƒ…å†µï¼Œä¸å†å…è®¸æ·»åŠ åˆ°NPMçš„æ³¨å†Œè¡¨ï¼Œç¨³å®šçš„é¡¹ç›®æœ‰æ•ˆçš„æ‰˜ç®¡çš„è¯æŒºä¸é”™ï¼Œç»ƒæ‰‹çš„å°±åˆ«æäº¤ä¸Šå»æµªè´¹èµ„æºäº†ğŸ¤£ã€‚
#### ğŸCLIä½¿ç”¨è¯´æ˜ï¼š

1. åˆå§‹åŒ–é…ç½®æ–‡ä»¶ï¼š`ds init`
1. æ‰§è¡Œç”Ÿæˆå‡½æ•°ï¼š`ds start`
### æ¼”ç¤ºæ•ˆæœï¼š
#### æ‰‹æœºç‰ˆç™¾åº¦é¡µé¢ï¼š
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8afdf0b9fcce43ce95765daf9b6ba366~tplv-k3u1fbpfcp-zoom-1.image)![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6966f10366204deaad73d1473bce18dd~tplv-k3u1fbpfcp-zoom-1.image)
#### æ‰‹æœºç‰ˆäº¬ä¸œé¡µé¢ï¼š
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eedb6c86edd948a9b53ae27819f74544~tplv-k3u1fbpfcp-zoom-1.image)![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e78f49d6b8d47ee9c3dc2155d948de4~tplv-k3u1fbpfcp-zoom-1.image)


#### æ‰‹æœºç‰ˆå“”å“©å“”å“©é¡µé¢ï¼š
![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c5eae34cd0f42b29c2b1390dab93c99~tplv-k3u1fbpfcp-zoom-1.image)![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/50f8c1b70fd34fec9d950d5b44b42ba6~tplv-k3u1fbpfcp-zoom-1.image)